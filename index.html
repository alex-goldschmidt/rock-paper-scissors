<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="running-score"></div>
    <span class="player-score"></span>
    <span class="computer-score"></span>
    <div class="Container">
     <h1 class="choices">Choices</h1>
        <button id="rockButton">Rock</button>
        <button id="paperButton">Paper</button>
        <button id="scissorsButton">Scissors</button>
        <div id="results"></div>
    </div>
    <div class="results"></div>
   <script>
    function computerPlay() {
    // generate random number between 0-2 inclusive
    let num = Math.floor(Math.random() * 3);
    return num === 0 ? "ROCK"
         : num === 1 ? "PAPER"
         : "SCISSORS";
}

const Container = document.querySelector('.Container');
 
let playerWins = 0;
let computerWins = 0;
const rock = document.querySelector('#rockButton');
const paper = document.querySelector('#paperButton');
const scissors = document.querySelector('#scissorsButton');
const results = document.querySelector("#results");
const playerScoreSpan = document.querySelector('.player-score')
const computerScoreSpan = document.querySelector('.computer-score')


Container.appendChild(rock);
Container.appendChild(paper);
Container.appendChild(scissors);
Container.appendChild(results);
//paper.addEventListener('click', e => console.log(e));
//scissors.addEventListener('click', e => console.log(e));

function playRound(playerSelection,computerSelection) {
    console.log(playerSelection, computerSelection);
    // return if the user won the round
    if (playerSelection === computerSelection) {
        const p = document.createElement('p')
        p.innerText = "It's a tie! Nobody wins.";
        results.appendChild(p);
    } else if (playerSelection.toUpperCase() === "ROCK" && computerSelection === "PAPER") {
        const p = document.createElement('p')
        p.innerText = "You lose! Paper beats Rock.";
        results.appendChild(p);
        computerWins++
    } else if (playerSelection.toUpperCase() === "ROCK" && computerSelection === "SCISSORS"){
        const p = document.createElement('p')
        p.innerText = "You win! Rock beats Scissors.";
        results.appendChild(p);
        playerWins++
    } else if (playerSelection.toUpperCase() === "PAPER" && computerSelection === "ROCK") {
        const p = document.createElement('p')
        p.innerText = "You win! Paper beats Rock.";
        results.appendChild(p);
        playerWins++
    } else if (playerSelection.toUpperCase() === "PAPER" && computerSelection === "SCISSORS") {
        const p = document.createElement('p')
        p.innerText = "You lose! Scissors beats Paper.";
        results.appendChild(p);
        computerWins++
    } else if (playerSelection.toUpperCase() === "SCISSORS" && computerSelection === "ROCK") {
        const p = document.createElement('p')
        p.innerText = "You Lose! Rock beats Scissors.";
        results.appendChild(p);
        computerWins++
    } else if (playerSelection.toUpperCase() === "SCISSORS" && computerSelection === "PAPER") {
        const p = document.createElement('p')
        p.innerText = "You Win! Scissors beats Paper.";
        results.appendChild(p);
        playerWins++
    } else {
        const p = document.createElement('p')
        p.innerText = "It's a tie! Nobody wins.";
        results.appendChild(p);
    }

}

const winnerCheck = (playerWins, computerWins) => {
    console.log(playerWins, computerWins);
    if (playerWins === 5) {
        const h2 = document.createElement('h2');
        h2.classList.add('player-won');
        h2.innerText = `You won ${playerWins} to ${computerWins}!`;
        results.appendChild(h2);
    }
    if (computerWins === 5) {
        const h2 = document.createElement('h2');
        h2.classList.add('computer-won');
        h2.innerText = `You won ${playerWins} to ${computerWins}!`;
        results.appendChild(h2);
    }
}

//add event listeners to for r , p, s that call gameRound function //
rock.addEventListener('click', () => {
    const computerSelection = computerPlay()  
    const playerSelection = 'rock'
    playRound(playerSelection, computerSelection)
    playerScoreSpan.innerText = `Player Score:   ${playerWins}`
    computerScoreSpan.innerText = `Computer Score:   ${computerWins}`
    winnerCheck(playerWins, computerWins);
} )

paper.addEventListener('click', () => {
    const computerSelection = computerPlay()
    const playerSelection = 'paper'
    playRound(playerSelection, computerSelection)
    playerScoreSpan.innerText = `Player Score:   ${playerWins}`
    computerScoreSpan.innerText = `Computer Score:   ${computerWins}`
    winnerCheck(playerWins, computerWins);
} )

scissors.addEventListener('click', () => {
    const computerSelection = computerPlay()
    const playerSelection = 'scissors'
    playRound(playerSelection, computerSelection)
    playerScoreSpan.innerText = `Player Score:   ${playerWins}`
    computerScoreSpan.innerText = `Computer Score:   ${computerWins}`
    winnerCheck(playerWins, computerWins);
} )

function game() {
    let playerSelection, computerSelection, result;
    let playerWins = 0;
    let computerWins = 0;
    const selections = ["ROCK", "PAPER", "SCISSORS"];
   
    if (playerWins > computerWins) {
        return "User Wins!"
    } else if (computerWins > playerWins) {
        return "Computer Wins! You Lose :(."
    } else {
        return "No one wins! Play again?"
    }
}

console.log(game());
   </script>
<!--This is where the logic of the game ends-->
</body>
</html>

<!--
     for (let i = 0; i < 1; i++) {
        playerSelection = prompt()
        computerSelection = computerPlay();

        // Verify user's input
        while (!(selections.includes(playerSelection.toUpperCase()))) {
            playerSelection = prompt();
        }

        console.log(`User plays ${playerSelection}, Computer plays ${computerSelection}`);
        result = (gameRound(playerSelection, computerSelection));

        if (result) {
            playerWins += 1;
        } else if (result === false) {
            computerWins += 1;
        } 
        console.log(`Current Score - Player: ${playerWins}, Computer: ${computerWins}`);
    }
-->


